      - name: Compile script
        shell: pwsh
        run: |
          Set-Location $env:GITHUB_WORKSPACE

          # Finde Ahk2Exe.exe (Pfad kann je nach ZIP-Struktur variieren)
          $ahk2exe = Get-ChildItem "C:\AutoHotkey" -Recurse -Filter "Ahk2Exe.exe" -ErrorAction Stop |
                    Select-Object -First 1 -ExpandProperty FullName

          if (-not $ahk2exe) { throw "Ahk2Exe.exe not found under C:\AutoHotkey" }
          Write-Host "Using Ahk2Exe: $ahk2exe"

          # Finde AutoHotkey64.exe (v2 base file)
          $base = Get-ChildItem "C:\AutoHotkey\v2" -Recurse -Filter "AutoHotkey64.exe" -ErrorAction Stop |
                  Select-Object -First 1 -ExpandProperty FullName

          if (-not $base) { throw "AutoHotkey64.exe not found under C:\AutoHotkey\v2" }
          Write-Host "Using base: $base"

          # Icon-Pfad (bitte ggf. an dein Repo anpassen)
          $icon = Join-Path $env:GITHUB_WORKSPACE "icons\icon.ico"
          if (-not (Test-Path $icon)) { throw "Icon not found: $icon" }

          & $ahk2exe `
            /in "AutoReSizer.ahk" `
            /out "AutoReSizer.exe" `
            /icon $icon `
            /bin $base

          # Debug-Listing
          Write-Host "Workspace contents:"
          Get-ChildItem -Force -File | Select-Object Name, Length

          # Harte Pr√ºfung: EXE muss existieren
          if (-not (Test-Path "AutoReSizer.exe")) {
            throw "Compile did not produce AutoReSizer.exe in workspace."
          }
